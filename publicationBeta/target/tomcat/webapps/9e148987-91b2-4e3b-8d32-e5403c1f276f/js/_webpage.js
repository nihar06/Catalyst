/*
Copyright © 1998, 2014, Oracle and/or its affiliates.  All rights reserved.
*/
var Escape=function(){function a(h,l){for(var o="",m=0;m<h.length;m++){var q=h.substr(m,1),u;if(l==0)u=q>="0"&&q<="9"||q>="a"&&q<="z"||q>="A"&&q<="Z";else{a:{u=f.length;for(var t=0;t<u;t++)if(q==f[t]){u=true;break a}u=q==c?true:false}u=!u}if(u)o+=q;else{q=h.charCodeAt(m);q="0000"+q.toString(16).toUpperCase();o+=(l==0?"$":c)+q.substr(q.length-4)}}return o}function b(h,l){for(var o="",m=false,q=0;q<h.length;q++){var u;if(m){u=h.substr(q,4);o+=String.fromCharCode(parseInt("0x"+u));q+=3;m=false}else{u=
h.substr(q,1);if(u==(l==0?"$":c))m=true;else o+=u}}return o}var c="/",f=["<",">",'"',"'","%",";","(",")","&","+"];return{SafeUriEscape:function(h){return a(h,1)},SafeUriUnEscape:function(h){return b(h,1)},MyEscape:function(h){return a(h,0)},MyUnEscape:function(h){return b(h,0)}}}();function UrlParser(){this.params=[];this.safemode=false}
UrlParser.prototype.Clone=function(){var a=new UrlParser;a.params=[];a.safemode=this.safemode;for(var b in this.params)if(this.params[b]!=null)a.params[b]=this.params[b];return a};
UrlParser.prototype.Parse=function(){var a,b;a=document.location.hash.substring(1);a=a.split("&");if(a.length==0||a[0]==""){a=document.location.search.substring(1);a=a.split("&")}if(a.length>0)if(a[0].toLowerCase().substr(0,3)=="su="){this.safemode=true;a=a[0].substr(3);a=Escape.SafeUriUnEscape(a);a=a.split("&")}for(var c=0;c<a.length;c++){b=a[c];if(b.length!=0){var f=b.split("=");if(f.length==2)this.params[f[0].toLowerCase()]=f[1];else if(f.length<2)this.params[f[0].toLowerCase()]="";else this.params[f[0].toLowerCase()]=
b.substr(f[0].length+1)}}};UrlParser.prototype.GetSafeMode=function(){return this.safemode};UrlParser.prototype.SetSafeMode=function(a){this.safemode=a};UrlParser.prototype.GetParameter=function(a){return this.params[a.toLowerCase()]};UrlParser.prototype.AddParameter=function(a,b){this.params[a.toLowerCase()]=b};UrlParser.prototype.RemoveParameter=function(a){this.params[a.toLowerCase()]=null};UrlParser.prototype.ClearParameterList=function(){this.params=null;this.params=[]};
UrlParser.prototype.BuildParameterList=function(a){a="";var b=true,c;for(c in this.params){var f=this.params[c];if(f!=null){if(b==false)a+="&";b=false;a+=f.length==0?c:c+"="+this.params[c]}}if(this.safemode)a="su="+Escape.MyEscape(a);return a};
UrlParser.prototype.GetCorrectUrl=function(a,b){if(!this.safemode)return a;var c,f=a.indexOf("#");if(f==-1)f=a.indexOf("?");if(f>=0){var h=a.substring(f+1);c=h.split("&");if(c[0].toLowerCase().substr(0,3)=="su=")return a;return a.substring(0,f+1)+"su="+Escape.SafeUriEscape(h)}else return a+(b?"":"?su=")};function UnescapeQuotes(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}
var swfobject=function(){function a(){if(!G){try{var d=n.getElementsByTagName("body")[0].appendChild(n.createElement("span"));d.parentNode.removeChild(d)}catch(e){return}G=true;d=M.length;for(var g=0;g<d;g++)M[g]()}}function b(d){if(G)d();else M[M.length]=d}function c(d){if(typeof z.addEventListener!=v)z.addEventListener("load",d,false);else if(typeof n.addEventListener!=v)n.addEventListener("load",d,false);else if(typeof z.attachEvent!=v)X(z,"onload",d);else if(typeof z.onload=="function"){var e=
z.onload;z.onload=function(){e();d()}}else z.onload=d}function f(){var d=n.getElementsByTagName("body")[0],e=n.createElement(A);e.setAttribute("type",N);var g=d.appendChild(e);if(g){var i=0;(function(){if(typeof g.GetVariable!=v){try{var j=g.GetVariable("$version")}catch(r){}if(j){j=j.split(" ")[1].split(",");k.pv=[parseInt(j[0],10),parseInt(j[1],10),parseInt(j[2],10)]}}else if(i<10){i++;setTimeout(arguments.callee,10);return}d.removeChild(e);g=null;h()})()}else h()}function h(){var d=D.length;if(d>
0)for(var e=0;e<d;e++){var g=D[e].id,i=D[e].callbackFn,j={success:false,id:g};if(k.pv[0]>0){var r=y(g);if(r)if(O(D[e].swfVersion)&&!(k.wk&&k.wk<312)){H(g,true);if(i){j.success=true;j.ref=l(g);i(j)}}else if(D[e].expressInstall&&o()){j={};j.data=D[e].expressInstall;j.width=r.getAttribute("width")||"0";j.height=r.getAttribute("height")||"0";if(r.getAttribute("class"))j.styleclass=r.getAttribute("class");if(r.getAttribute("align"))j.align=r.getAttribute("align");var p={};r=r.getElementsByTagName("param");
for(var w=r.length,x=0;x<w;x++)if(r[x].getAttribute("name").toLowerCase()!="movie")p[r[x].getAttribute("name")]=r[x].getAttribute("value");m(j,p,g,i)}else{q(r);i&&i(j)}}else{H(g,true);if(i){if((g=l(g))&&typeof g.SetVariable!=v){j.success=true;j.ref=g}i(j)}}}}function l(d){var e=null;if((d=y(d))&&d.nodeName=="OBJECT")if(typeof d.SetVariable!=v)e=d;else if(d=d.getElementsByTagName(A)[0])e=d;return e}function o(){return!P&&O("6.0.65")&&(k.win||k.mac)&&!(k.wk&&k.wk<312)}function m(d,e,g,i){P=true;V=i||
null;Y={success:false,id:g};var j=y(g);if(j){if(j.nodeName=="OBJECT"){J=u(j);Q=null}else{J=j;Q=g}d.id=Z;if(typeof d.width==v||!/%$/.test(d.width)&&parseInt(d.width,10)<310)d.width="310";if(typeof d.height==v||!/%$/.test(d.height)&&parseInt(d.height,10)<137)d.height="137";n.title=n.title.slice(0,47)+" - Flash Player Installation";i=k.ie&&k.win?"ActiveX":"PlugIn";i="MMredirectURL="+z.location.toString().replace(/&/g,"%26")+"&MMplayerType="+i+"&MMdoctitle="+n.title;if(typeof e.flashvars!=v)e.flashvars+=
"&"+i;else e.flashvars=i;if(k.ie&&k.win&&j.readyState!=4){i=n.createElement("div");g+="SWFObjectNew";i.setAttribute("id",g);j.parentNode.insertBefore(i,j);j.style.display="none";(function(){j.readyState==4?j.parentNode.removeChild(j):setTimeout(arguments.callee,10)})()}t(d,e,g)}}function q(d){if(k.ie&&k.win&&d.readyState!=4){var e=n.createElement("div");d.parentNode.insertBefore(e,d);e.parentNode.replaceChild(u(d),e);d.style.display="none";(function(){d.readyState==4?d.parentNode.removeChild(d):setTimeout(arguments.callee,
10)})()}else d.parentNode.replaceChild(u(d),d)}function u(d){var e=n.createElement("div");if(k.win&&k.ie)e.innerHTML=d.innerHTML;else if(d=d.getElementsByTagName(A)[0])if(d=d.childNodes)for(var g=d.length,i=0;i<g;i++)!(d[i].nodeType==1&&d[i].nodeName=="PARAM")&&d[i].nodeType!=8&&e.appendChild(d[i].cloneNode(true));return e}function t(d,e,g){var i,j=y(g);if(k.wk&&k.wk<312)return i;if(j){if(typeof d.id==v)d.id=g;if(k.ie&&k.win){var r="",p;for(p in d)if(d[p]!=Object.prototype[p])if(p.toLowerCase()==
"data")e.movie=d[p];else if(p.toLowerCase()=="styleclass")r+=' class="'+d[p]+'"';else if(p.toLowerCase()!="classid")r+=" "+p+'="'+d[p]+'"';p="";for(var w in e)if(e[w]!=Object.prototype[w])p+='<param name="'+w+'" value="'+e[w]+'" />';j.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+p+"</object>";R[R.length]=d.id;i=y(d.id)}else{w=n.createElement(A);w.setAttribute("type",N);for(var x in d)if(d[x]!=Object.prototype[x])if(x.toLowerCase()=="styleclass")w.setAttribute("class",
d[x]);else x.toLowerCase()!="classid"&&w.setAttribute(x,d[x]);for(r in e)if(e[r]!=Object.prototype[r]&&r.toLowerCase()!="movie"){d=w;p=r;x=e[r];g=n.createElement("param");g.setAttribute("name",p);g.setAttribute("value",x);d.appendChild(g)}j.parentNode.replaceChild(w,j);i=w}}return i}function K(d){var e=y(d);if(e&&e.nodeName=="OBJECT")if(k.ie&&k.win){e.style.display="none";(function(){if(e.readyState==4){var g=y(d);if(g){for(var i in g)if(typeof g[i]=="function")g[i]=null;g.parentNode.removeChild(g)}}else setTimeout(arguments.callee,
10)})()}else e.parentNode.removeChild(e)}function y(d){var e=null;try{e=n.getElementById(d)}catch(g){}return e}function X(d,e,g){d.attachEvent(e,g);I[I.length]=[d,e,g]}function O(d){var e=k.pv;d=d.split(".");d[0]=parseInt(d[0],10);d[1]=parseInt(d[1],10)||0;d[2]=parseInt(d[2],10)||0;return e[0]>d[0]||e[0]==d[0]&&e[1]>d[1]||e[0]==d[0]&&e[1]==d[1]&&e[2]>=d[2]?true:false}function aa(d,e,g,i){if(!(k.ie&&k.mac)){var j=n.getElementsByTagName("head")[0];if(j){g=g&&typeof g=="string"?g:"screen";if(i)W=B=null;
if(!B||W!=g){i=n.createElement("style");i.setAttribute("type","text/css");i.setAttribute("media",g);B=j.appendChild(i);if(k.ie&&k.win&&typeof n.styleSheets!=v&&n.styleSheets.length>0)B=n.styleSheets[n.styleSheets.length-1];W=g}if(k.ie&&k.win)B&&typeof B.addRule==A&&B.addRule(d,e);else B&&typeof n.createTextNode!=v&&B.appendChild(n.createTextNode(d+" {"+e+"}"))}}}function H(d,e){if(ba){var g=e?"visible":"hidden";if(G&&y(d))y(d).style.visibility=g;else aa("#"+d,"visibility:"+g)}}function ca(d){return/[\\\"<>\.;]/.exec(d)!=
null&&typeof encodeURIComponent!=v?encodeURIComponent(d):d}var v="undefined",A="object",N="application/x-shockwave-flash",Z="SWFObjectExprInst",z=window,n=document,E=navigator,da=false,M=[function(){da?f():h()}],D=[],R=[],I=[],J,Q,V,Y,G=false,P=false,B,W,ba=true,k=function(){var d=typeof n.getElementById!=v&&typeof n.getElementsByTagName!=v&&typeof n.createElement!=v,e=E.userAgent.toLowerCase(),g=E.platform.toLowerCase(),i=g?/win/.test(g):/win/.test(e);g=g?/mac/.test(g):/mac/.test(e);e=/webkit/.test(e)?
parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false;var j=!+"\u000b1",r=[0,0,0],p=null;if(typeof E.plugins!=v&&typeof E.plugins["Shockwave Flash"]==A){if((p=E.plugins["Shockwave Flash"].description)&&!(typeof E.mimeTypes!=v&&E.mimeTypes[N]&&!E.mimeTypes[N].enabledPlugin)){da=true;j=false;p=p.replace(/^.*\s+(\S+\s+\S+$)/,"$1");r[0]=parseInt(p.replace(/^(.*)\..*$/,"$1"),10);r[1]=parseInt(p.replace(/^.*\.(.*)\s.*$/,"$1"),10);r[2]=/[a-zA-Z]/.test(p)?parseInt(p.replace(/^.*[a-zA-Z]+(.*)$/,
"$1"),10):0}}else if(typeof z.ActiveXObject!=v)try{var w=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(w)if(p=w.GetVariable("$version")){j=true;p=p.split(" ")[1].split(",");r=[parseInt(p[0],10),parseInt(p[1],10),parseInt(p[2],10)]}}catch(x){}return{w3:d,pv:r,wk:e,ie:j,win:i,mac:g}}();(function(){if(k.w3){if(typeof n.readyState!=v&&n.readyState=="complete"||typeof n.readyState==v&&(n.getElementsByTagName("body")[0]||n.body))a();if(!G){typeof n.addEventListener!=v&&n.addEventListener("DOMContentLoaded",
a,false);if(k.ie&&k.win){n.attachEvent("onreadystatechange",function(){if(n.readyState=="complete"){n.detachEvent("onreadystatechange",arguments.callee);a()}});z==top&&function(){if(!G){try{n.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,0);return}a()}}()}k.wk&&function(){G||(/loaded|complete/.test(n.readyState)?a():setTimeout(arguments.callee,0))}();c(a)}}})();(function(){k.ie&&k.win&&window.attachEvent("onunload",function(){for(var d=I.length,e=0;e<d;e++)I[e][0].detachEvent(I[e][1],
I[e][2]);d=R.length;for(e=0;e<d;e++)K(R[e]);for(var g in k)k[g]=null;k=null;for(var i in swfobject)swfobject[i]=null;swfobject=null})})();return{registerObject:function(d,e,g,i){if(k.w3&&d&&e){var j={};j.id=d;j.swfVersion=e;j.expressInstall=g;j.callbackFn=i;D[D.length]=j;H(d,false)}else i&&i({success:false,id:d})},getObjectById:function(d){if(k.w3)return l(d)},embedSWF:function(d,e,g,i,j,r,p,w,x,L){var S={success:false,id:e};if(k.w3&&!(k.wk&&k.wk<312)&&d&&e&&g&&i&&j){H(e,false);b(function(){g+="";
i+="";var F={};if(x&&typeof x===A)for(var C in x)F[C]=x[C];F.data=d;F.width=g;F.height=i;C={};if(w&&typeof w===A)for(var T in w)C[T]=w[T];if(p&&typeof p===A)for(var U in p)if(typeof C.flashvars!=v)C.flashvars+="&"+U+"="+p[U];else C.flashvars=U+"="+p[U];if(O(j)){T=t(F,C,e);F.id==e&&H(e,true);S.success=true;S.ref=T}else if(r&&o()){F.data=r;m(F,C,e,L);return}else H(e,true);L&&L(S)})}else L&&L(S)},switchOffAutoHideShow:function(){ba=false},ua:k,getFlashPlayerVersion:function(){return{major:k.pv[0],minor:k.pv[1],
release:k.pv[2]}},hasFlashPlayerVersion:O,createSWF:function(d,e,g){if(k.w3)return t(d,e,g)},showExpressInstall:function(d,e,g,i){k.w3&&o()&&m(d,e,g,i)},removeSWF:function(d){k.w3&&K(d)},createCSS:function(d,e,g,i){k.w3&&aa(d,e,g,i)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(d){var e=n.location.search||n.location.hash;if(e){if(/\?/.test(e))e=e.split("?")[1];if(d==null)return ca(e);e=e.split("&");for(var g=0;g<e.length;g++)if(e[g].substring(0,e[g].indexOf("="))==d)return ca(e[g].substring(e[g].indexOf("=")+
1))}return""},expressInstallCallback:function(){if(P){var d=y(Z);if(d&&J){d.parentNode.replaceChild(J,d);if(Q){H(Q,true);if(k.ie&&k.win)J.style.display="block"}V&&V(Y)}P=false}}}}(),_simulate_120_dpi=false;function IsTouchDevice(){return upk.browserInfo.isTouchDevice()}var upk=upk||{};
(function(a){var b="",c,f=false,h,l=false,o=false;a.getAgentInfo=function(){return typeof document.documentMode!="undefined"?navigator.userAgent+" - "+document.documentMode:navigator.userAgent};a.isSupportedBrowser=function(){var t=false;if(b=="MSIE"&&(c>=8||f&&h>=4))t=true;if(b=="Firefox"&&(c==24||c>=27))t=true;if(b=="Safari"&&c>=6)t=true;if(b=="Chrome"&&c>=32)t=true;if(a.isiOS())t=true;return t};a.isHardStop=function(){return b=="MSIE"&&c<=6};a.isMacOs=function(){return l};a.isFF3=function(){return o};
a.isFF=function(){return b=="Firefox"};a.isFF4=function(){return b=="Firefox"&&c==4};a.checkFFVersion=function(t){return b=="Firefox"&&c==t};a.isSafari=function(){return b=="Safari"||b=="Chrome"};a.isChrome=function(){return b=="Chrome"};a.isExplorer=function(){return b=="MSIE"};a.isIEVersion=function(t){return b=="MSIE"&&c==t};a.isIEQuirks=function(){if(a.isExplorer()==false)return false;return document.compatMode!=="CSS1Compat"};a.isIE8=function(){if(b!="MSIE")return false;return c==8&&f&&h==4};
a.isIE9=function(){if(b!="MSIE")return false;if(c==9&&f&&h==5)return true;if(c==7&&f&&h==5)return true;return f&&h==6&&(c!=10||document.documentMode!=10)};a.isIE10=function(){if(b!="MSIE")return false;return c==10&&f&&h==6&&document.documentMode==10};a.isIE10Compatibility=function(){if(b!="MSIE")return false;return f&&h==6&&(c!=10||document.documentMode!=10)};a.isIE10orHigher=function(){if(b!="MSIE")return false;return c>=10&&f&&h>=6&&document.documentMode>=10};a.isIE11=function(){if(b!="MSIE")return false;
return c==11&&f&&h==7&&document.documentMode==11};a.isIE11Compatibility=function(){if(b!="MSIE")return false;return f&&h==7&&(c!=11||document.documentMode!=11)};a.isActiveXEnabled=function(){var t=null,K="";try{new ActiveXObject("")}catch(y){K=y.name}try{t=!!new ActiveXObject("htmlfile")}catch(X){t=false}return K!="ReferenceError"&&t==false?false:true};a.isIE10Modern=function(){if(a.isIE10()==false)return false;return!a.isActiveXEnabled()};a.isiOS=function(){var t=navigator.platform;if(t==="iPad"||
t==="iPad Simulator"||t==="iPhone"||t==="iPod")return true;if(a.isChrome()&&a.isTouchDevice())return true;return false};a.isiOS5=function(){return navigator.userAgent.indexOf("CPU OS 5_")>=0};a.isiOS6=function(){return navigator.userAgent.indexOf("CPU OS 6_")>=0};a.isiOS7=function(){return navigator.userAgent.indexOf("CPU OS 7_")>=0};a.isTouchDevice=function(){return"ontouchstart"in window?window:null};a.isSoundSupported=function(){if(a.isiOS())return true;if(window.location.href.substr(0,7).toLowerCase()==
"file://")return false;if(swfobject.getFlashPlayerVersion().major>0)return true;return false};var m=navigator.userAgent,q=-1;if(m.indexOf("OPR")>=0){b="Opera";q=m.indexOf("OPR")+4}else if(m.indexOf("Chrome")>=0){b="Chrome";q=m.indexOf("Chrome")+7}else if(m.indexOf("Opera")>=0){b="Opera";q=m.indexOf("Opera")+6}else if(m.indexOf("Firefox")>=0){b="Firefox";q=m.indexOf("Firefox")+8}else if(m.indexOf("Safari")>=0){b="Safari";q=m.indexOf("Version")+8}else if(m.indexOf("MSIE")>=0){b="MSIE";q=m.indexOf("MSIE")+
5;var u=m.indexOf("Trident/");if(u>=0){f=true;h=parseInt(m.substr(u+8))}}else if(m.indexOf(" rv:")>=0){b="MSIE";q=m.indexOf(" rv:")+3;u=m.indexOf("Trident/");if(u>=0){f=true;h=parseInt(m.substr(u+8))}}else{b="";c=0}if(b!=""){c=parseInt(m.substr(q));if(isNaN(c)){q++;c=parseInt(m.substr(q))}parseInt(m.substr(q+2,1))}if(b=="Safari"&&isNaN(c))c=5;l=m.indexOf("Macintosh")>=0;o=b=="Firefox"&&m.indexOf("Firefox/3")>0})(upk.browserInfo={});function getDIV(a){return document.getElementById(a)}
function getDIVstyle(a){try{return document.getElementById(a).style}catch(b){return null}}function shiftTo(a,b,c){a=getDIVstyle(a);a.left=b+"px";a.top=c+"px"}function getUniWidth(a){return a.offsetWidth}function getUniHeight(a){return a.offsetHeight}function getClientWidth(a){return a.offsetWidth}function getClientHeight(a){return a.offsetHeight}function getObjHeight(a){return getDIV(a).offsetHeight}function getObjWidth(a){return getDIV(a).offsetWidth}
function getObjLeft(a){try{var b=getDIVstyle(a);return b.pixelLeft?b.pixelLeft:b.left!=""?parseInt(b.left):document.getElementById(a).offsetLeft}catch(c){return parseInt(a.offsetLeft)}}function getObjTop(a){try{var b=getDIVstyle(a);return b.pixelTop?b.pixelTop:b.top!=""?parseInt(b.top):document.getElementById(a).offsetTop}catch(c){return parseInt(a.offsetTop)}}function getInsideWindowWidth(){return window.innerWidth?window.innerWidth:document.body.clientWidth}
function getInsideWindowHeight(){return window.innerHeight?window.innerHeight:document.body.clientHeight}function getScrollLeft(){return window.pageXOffset||window.pageXOffset==0?window.pageXOffset:document.body.scrollLeft}function getScrollTop(){return window.pageYOffset||window.pageYOffset==0?window.pageYOffset:document.body.scrollTop}
function show(a,b){getDIVstyle(a).visibility="visible";if(b&&upk.browserInfo.isiOS())try{playMode=="S"&&showActObj.type=="Input"&&$("#"+a+" input").attr("readonly",true)}catch(c){}}function hide(a){getDIVstyle(a).visibility="hidden"}var __DPIwidth=0;
function getDpiInfo(){var a=document.getElementById("DPIInfoDiv");if(a!=null){__DPIwidth=a.clientWidth;if(__DPIwidth==0)__DPIwidth=96;__DPIwidth!=0&&document.getElementsByTagName("body")[0].removeChild(a)}return _simulate_120_dpi==true?120:__DPIwidth}function initDpiInfo(){document.write('<div id="DPIInfoDiv" style="visibility:hidden; width: 72pt; height: 1pt;">DPIINFODIV</div>')}function checkIEDPI(){return true}function Get_Element(a){return document.getElementById(a)}
function touch(a){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches[0];else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches[0]}function isNavBar(){return typeof navBar!=="undefined"}var isOnLink=false;
function ShowInfoBlock(a,b){try{playMode!=null&&playMode!=""&&PlayStop(true)}catch(c){}var f=false,h=Escape.MyUnEscape(a);if(h.indexOf("odrel://")==0)h=resolve(h);for(var l=h;l.substr(0,3)=="../";)l=l.substr(3);var o=l.lastIndexOf("/");if(o>=0&&l.substr(o)=="/index.html")f=true;if(b==null||b.length==0)b="_blank";b=b.toLowerCase();if(b!="_blank")this.location.replace(h);else{if(f){o=screen.availWidth;o=(o-PlayerConfig.InfoWidth)/2;var m=screen.availHeight;m=(m-PlayerConfig.InfoHeight)/2;id=window.open(h,
"","top="+m+",left="+o+",width="+PlayerConfig.InfoWidth+",height="+PlayerConfig.InfoHeight+"toolbar=1,scrollbars=1,statusbar=1,resizable=1")}else{f=PlayerConfig.InfoWidth;l=PlayerConfig.InfoHeight;if(PlayerConfig.InfoWidth2)if(PlayerConfig.InfoWidth2>0)f=PlayerConfig.InfoWidth2;if(PlayerConfig.InfoHeight2)if(PlayerConfig.InfoHeight2>0)l=PlayerConfig.InfoHeight2;o=screen.availWidth;o=(o-f)/2;m=screen.availHeight;m=(m-l)/2;id=window.open(h,"","top="+m+",left="+o+",width="+f+",height="+l+"toolbar=1,scrollbars=1,location=1,statusbar=1,menubar=1,resizable=1")}setTimeout("Center("+
o+","+m+")",500)}}function OnLink(){isOnLink=true}function OffLink(){isOnLink=false}var globalloc="";function MakeAbsolute(a){if(a.toLowerCase().substr(0,7)=="mailto:")return a;var b="";if(globalloc.length==0)for(globalloc=location.href;globalloc.indexOf("\\")!=-1;)globalloc=globalloc.replace("\\","/");b=globalloc;var c=b.indexOf("#");if(c<0)c=b.indexOf("?");if(c>=0)b=b.substr(0,c);c=b.lastIndexOf("/");return c!=-1&&a.indexOf("//")==-1?b.substr(0,c+1)+a:a}var id;
function Center(a,b){try{id.focus();id.moveTo(a,b)}catch(c){}}var playMode="",_sound_installed=false,_webpage_=true;function soundIsPublished(){return hassound}
function Init(){SoundjsInit();if(hassound!=false)if(UserPrefs.PlayAudio=="all"){_sound_installed=Check_Flash(true,UserPrefs.PlayAudio);if(_sound_installed!=false){var a=document.getElementById("odsounddiv");a.className="playerCombination";var b='<div id="odsounddivctrl">';b+='<div id="odsVol">'+R_sound_sound+"</div>";b+='<div id="odsPlay" class="odsounddivclass playerCombination" title="'+R_sound_play+'" onclick="playPauseClicked();">';b+='<div id="playimg" class="s_play"></div>';b+="</div>";b+='<div id="odsPause" class="odsounddivclass playerCombination" title="'+
R_sound_pause+'" onclick="playPauseClicked();">';b+='<div id="pauseimg" class="s_pause"></div>';b+="</div>";b+='<div id="odsStop" class="odsounddivclass playerCombination" title="'+R_sound_stop+'" onclick="stopClicked();">';b+='<div id="stopimg" class="s_stop"></div>';b+="</div>";b+="</div>";a.innerHTML=b;a.style.display="block";document.getElementById("odsounddiv2").style.display="block";_ResizeSoundControls();_Resize();window.onresize=_Resize;setTimeout("PlaySound_Init()",100)}}}
function _ResizeSoundControls(){for(var a=document.getElementById("odsVol").clientHeight;a>25;){a=document.getElementById("odsVol").clientWidth;document.getElementById("odsVol").style.width=""+(a+5)+"px";a=document.getElementById("odsVol").clientHeight}a=document.getElementById("odsVol").clientWidth;document.getElementById("odsPlay").style.left=""+(a+3)+"px";document.getElementById("odsPause").style.left=""+(a+3)+"px";var b=document.getElementById("odsPlay").clientWidth;document.getElementById("odsStop").style.left=
""+(a+b+6)+"px"}function _Resize(){var a=document.getElementById("odsounddiv").clientWidth,b=document.getElementById("odsVol").clientWidth;b+=document.getElementById("odsPlay").clientWidth;b+=document.getElementById("odsStop").clientWidth;b+=10;a=Math.round((a-b)/2);try{document.getElementById("odsounddivctrl").style.left=""+a+"px"}catch(c){}}
function getScrollX(){var a=0,b=0;if(document.body)a=document.body.scrollLeft;if(document.documentElement)b=document.documentElement.scrollLeft;return a>0?a:b}var pstatus=0,wsoundinit=!IsTouchDevice()?true:false;function SaveAutoPlaybackValue(a){UserPrefs.WebPageAutoPlayback=a?"true":"false";UserPrefs.StoreCookie()}function playPauseClicked(){SaveAutoPlaybackValue(true);if(wsoundinit==false){SoundPlayerObj.InitAudioPlayer();wsoundinit=true}_Play()}
function _Play(){if(pstatus==0){SoundPlayerObj.Play("./../sound/sound.flv");document.getElementById("odsPlay").style.display="none";document.getElementById("odsPause").style.display="block";pstatus=1}else if(pstatus==1){SoundPlayerObj.Pause();document.getElementById("odsPlay").style.display="block";document.getElementById("odsPause").style.display="none";pstatus=2}else{SoundPlayerObj.Resume();document.getElementById("odsPlay").style.display="none";document.getElementById("odsPause").style.display=
"block";pstatus=1}}function stopClicked(){_Stop();SaveAutoPlaybackValue(false)}function _Stop(){SoundPlayerObj.Stop(upk.browserInfo.isiOS());document.getElementById("odsPlay").style.display="block";document.getElementById("odsPause").style.display="none";pstatus=0}function OnEndPlaySound(){_Stop()}function OnErrorPlaySound(){_Stop()}function Sound_Stop(){try{_Stop()}catch(a){}}
function PlaySound_Init(){if(_sound_installed!=false){try{if(parent.PlayConceptSound()==false)return}catch(a){}if(UserPrefs.WebPageAutoPlayback=="true"||UserPrefs.WebPageAutoPlayback==true)if(!IsTouchDevice()){_Stop();_Play()}}}function splitUri(a){a=a.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);a.shift();return a=[a[1]+"://"+a[3],a[4],a[6]+a[8]]}
function combine(a,b){var c=b;if(c.indexOf("odrel://")==0)c=c.substr(8);if(c=="")c=".";var f=splitUri(a),h=f[0];f=f[1];if(f.charAt(0)=="/")f=f.substr(1);if(f.charAt(f.length-1)=="/")f=f.substr(0,f.length-1);if(c.charAt(c.length-1)=="/")c=c.substr(0,c.length-1);f=f.split("/");var l=c.split("/");if(l.length>2&&l[0]==""&&l[1]==""){h=h.split(":")[0]+":/";for(c=2;c<l.length;c++)h+="/"+l[c];return h}var o=[];for(c=0;c<f.length;c++)o[c]=f[c];for(c=0;c<l.length;c++)if(l[c]==".."){if(o.length>0)o=o.slice(0,
o.length-1)}else if(l[c]!=".")if(l[c]=="")o=[];else o[o.length]=l[c];f="";for(c=0;c<o.length;c++)f+="/"+o[c];return h+f}function getRootUrl(){if(typeof isTocHtml!="undefined"){var a=document.location.href;return a.substr(0,a.lastIndexOf("/"))}var b=splitUri(document.location.href);a=b[0];b=b[1];if(b.charAt(0)=="/")b=b.substr(1);b=b.split("/");var c;for(c=b.length-1;b[c]!="tpc"&&c>=0;c--);if(c>0&&(b[c-1]=="data"||b[c-1]=="help"))c-=1;for(var f="",h=0;h<c;h++)f+="/"+b[h];return a+f}
function isRelative(a){a=a.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return a[1]==""||a[1]==undefined}function resolveIfRelative(a){return a.indexOf("odrel://")==0?resolve(a):a}function resolve(a){if(isRelative(PlayerConfig.BaseUrl)){var b=getRootUrl();b=combine(b,PlayerConfig.BaseUrl);return combine(b,a)}else return combine(PlayerConfig.BaseUrl,a)}
function resolveLinksInWebPage(){for(var a=document.getElementsByTagName("a"),b=0;b<a.length;b++){var c=a[b].getAttribute("href");if(c!=null)if(c.indexOf("odrel://")==0)a[b].href=resolve(a[b].getAttribute("href"))}}function Cookie(a,b,c,f,h,l){this.$document=a;this.$name=b;if(c=="today"){a=new Date;a.setHours(23);a.setMinutes(59);a.setSeconds(59);this.$exp=a}else this.$exp=c?new Date((new Date).getTime()+c*864E5):null;this.$path=f?f:null;this.$domain=h?h:null;this.$secure=l?true:false}
Cookie.prototype.Store=function(){if(PlayerConfig.EnableCookies){var a="",b;for(b in this)if(!(b.charAt(0)=="$"||typeof this[b]=="function")){if(a!="")a+="&";a+=b+":"+escape(this[b])}a=this.$name+"="+a;if(this.$exp)a+="; expires="+this.$exp.toGMTString();if(this.$path)a+="; path="+this.$path;if(this.$domain)a+="; domain="+this.$domain;if(this.$secure)a+="; secure=";this.$document.cookie=a}};
Cookie.prototype.Load=function(){if(!PlayerConfig.EnableCookies)return false;var a=this.$document.cookie;if(a=="")return false;var b=a.indexOf(this.$name+"=");if(b==-1)return false;b+=this.$name.length+1;var c=a.indexOf(";",b);if(c==-1)c=a.length;a=decodeURIComponent(a.substring(b,c)).split("&");for(b=0;b<a.length;b++){c=a[b].split(":");this[c[0]]=unescape(c[1])}return true};
Cookie.prototype.Remove=function(){if(PlayerConfig.EnableCookies){var a=this.$name+"=";if(this.$path)a+="; path="+this.$path;if(this.$domain)a+="; domain="+this.$domain;a+="; expires=Fri, 02-Jan-1970 00:00:00 GMT";this.$document.cookie=a}};
function UserPreferences(){this.EnablePreferences=true;this.TimeStamp="000000000000";this.ShowLeadIn=this.PlayAudio="all";this.MarqueeColor="red";this.TryIt={};this.TryIt.EnableSkipping=true;this.DoIt={};this.DoIt.HotKey={};this.DoIt.HotKey.Ctrl="L";this.DoIt.HotKey.Shift="N";this.DoIt.HotKey.Alt="L";this.DefaultPlayMode="S";this.WebPageAutoPlayback=true;this.ApplicableOutlineDisplay="L";this.NavbarVolume=100;this.EnableShowDiagnostics=false}
UserPreferences.prototype.Copy=function(a){this.TimeStamp=a.TimeStamp;this.PlayAudio=a.PlayAudio;this.ShowLeadIn=a.ShowLeadIn;this.MarqueeColor=a.MarqueeColor;this.TryIt.EnableSkipping=a.TryIt.EnableSkipping;this.DoIt.HotKey.Ctrl=a.DoIt.HotKey.Ctrl;this.DoIt.HotKey.Shift=a.DoIt.HotKey.Shift;this.DoIt.HotKey.Alt=a.DoIt.HotKey.Alt;this.DefaultPlayMode=a.DefaultPlayMode;this.WebPageAutoPlayback=a.WebPageAutoPlayback;this.ApplicableOutlineDisplay=a.ApplicableOutlineDisplay;this.NavbarVolume=a.NavbarVolume;
this.EnableShowDiagnostics=a.EnableShowDiagnostics};
UserPreferences.prototype.Compare=function(a){if(this.PlayAudio!=a.PlayAudio)return true;if(this.ShowLeadIn!=a.ShowLeadIn)return true;if(this.MarqueeColor!=a.MarqueeColor)return true;if(this.TryIt.EnableSkipping!=a.TryIt.EnableSkipping)return true;if(this.DoIt.HotKey.Ctrl!=a.DoIt.HotKey.Ctrl)return true;if(this.DoIt.HotKey.Shift!=a.DoIt.HotKey.Shift)return true;if(this.DoIt.HotKey.Alt!=a.DoIt.HotKey.Alt)return true;if(this.DefaultPlayMode!=a.DefaultPlayMode)return true;if(this.WebPageAutoPlayback!=
a.WebPageAutoPlayback)return true;if(this.ApplicableOutlineDisplay!=a.ApplicableOutlineDisplay)return true;if(this.NavbarVolume!=a.NavbarVolume)return true;if(this.EnableShowDiagnostics!=a.EnableShowDiagnostics)return true;return false};UserPreferences.prototype.GetCookie=function(){return new Cookie(document,"OnDemandPlayer",365,"/",null,false)};
UserPreferences.prototype.LoadCookie=function(){var a=this.GetCookie();a.Load();if(a.PlayAudio)this.PlayAudio=a.PlayAudio;UserPref_PlayAudio_Original=this.PlayAudio;if(upk.browserInfo.isSoundSupported()==false)this.PlayAudio="none";if(!(UserPrefs.TimeStamp!="000000000000"&&(!a.TimeStamp||UserPrefs.TimeStamp>a.TimeStamp))){if(a.ShowLeadIn)this.ShowLeadIn=a.ShowLeadIn;if(a.MarqueeColor)this.MarqueeColor=a.MarqueeColor;if(a.TryIt_EnableSkipping)this.TryIt.EnableSkipping=a.TryIt_EnableSkipping=="true";
if(a.DoIt_HotKey_Ctrl)this.DoIt.HotKey.Ctrl=a.DoIt_HotKey_Ctrl;if(a.DoIt_HotKey_Shift)this.DoIt.HotKey.Shift=a.DoIt_HotKey_Shift;if(a.DoIt_HotKey_Alt)this.DoIt.HotKey.Alt=a.DoIt_HotKey_Alt;if(a.DefaultPlayMode)this.DefaultPlayMode=a.DefaultPlayMode;if(a.WebPageAutoPlayback)this.WebPageAutoPlayback=a.WebPageAutoPlayback;if(a.ApplicableOutlineDisplay)this.ApplicableOutlineDisplay=a.ApplicableOutlineDisplay;if(a.NavbarVolume)this.NavbarVolume=a.NavbarVolume;if(a.EnableShowDiagnostics)this.EnableShowDiagnostics=
a.EnableShowDiagnostics=="true"}};
UserPreferences.prototype.StoreCookie=function(){var a=this.GetCookie();a.TimeStamp=this.TimeStamp;a.PlayAudio=this.PlayAudio;a.ShowLeadIn=this.ShowLeadIn;a.MarqueeColor=this.MarqueeColor;a.TryIt_EnableSkipping=this.TryIt.EnableSkipping;a.DoIt_HotKey_Ctrl=this.DoIt.HotKey.Ctrl;a.DoIt_HotKey_Shift=this.DoIt.HotKey.Shift;a.DoIt_HotKey_Alt=this.DoIt.HotKey.Alt;a.DefaultPlayMode=this.DefaultPlayMode;a.WebPageAutoPlayback=this.WebPageAutoPlayback;a.ApplicableOutlineDisplay=this.ApplicableOutlineDisplay;
a.NavbarVolume=this.NavbarVolume;a.EnableShowDiagnostics=this.EnableShowDiagnostics;a.Store()};UserPreferences.prototype.GetUrlParamString=function(){return"PP_SOUND="+this.PlayAudio+"&PP_LEADIN="+this.ShowLeadIn+"&PP_SKIP="+(this.TryIt.EnableSkipping?"true":"false")+"&PP_MARQUEE="+this.MarqueeColor+"&PP_ENABLE="+(this.EnablePreferences?"true":"false")+"&PP_HOTKEY="+this.DoIt.HotKey.Ctrl+this.DoIt.HotKey.Shift+this.DoIt.HotKey.Alt};
UserPreferences.prototype.ParseUrlParamString=function(a){a=a.split("&");for(var b=0;b<a.length;b++){var c=a[b].split("=");if(c[0].toUpperCase()=="PP_SOUND")this.PlayAudio=c[1];else if(c[0].toUpperCase()=="PP_LEADIN")this.ShowLeadIn=c[1];else if(c[0].toUpperCase()=="PP_MARQUEE")this.MarqueeColor=c[1];else if(c[0].toUpperCase()=="PP_SKIP")this.TryIt.EnableSkipping=c[1]=="true";else if(c[0].toUpperCase()=="PP_ENABLE")this.EnablePreferences=c[1]=="true";else if(c[0].toUpperCase()=="PP_HOTKEY"){this.DoIt.HotKey.Ctrl=
c[1].charAt(0);this.DoIt.HotKey.Shift=c[1].charAt(1);this.DoIt.HotKey.Alt=c[1].charAt(2)}}};var UserPrefs=new UserPreferences,UserPref_PlayAudio_Original="";typeof SetDefaultPreferences!=="undefined"&&SetDefaultPreferences();UserPrefs.EnablePreferences&&UserPrefs.LoadCookie();var paramstr=unescape(document.location.hash.substring(1));if(paramstr=="")paramstr=unescape(document.location.search.substring(1));UserPrefs.ParseUrlParamString(paramstr);
function OpenPreferencesDialog(a,b){if(UserPrefs.EnablePreferences){var c=a+"/html/preferences.html",f;f=upk.browserInfo.isChrome()?430:upk.browserInfo.isFF()?420:upk.browserInfo.isSafari()?350:412;var h=[];try{if(lms_IsUserProfileAvailable()){var l=lms_GetUserProfileUrl();if(l!="")h[h.length]="UserProfileUrl="+Escape.MyEscape(l)}}catch(o){}if(b)h[h.length]="nosound";for(l=0;l<h.length;l++){c+=l==0?"?":"&";c+=h[l]}if(IsTouchDevice()||upk.browserInfo.isIE10Modern()){f+=50;showDialog(c,-1,-1,400,f,
true,96,"../../../",false)}else window.open(c,"prefwin","width=500,height="+f+",resizable=1,scrollbars=0,top="+(screen.availHeight-290)/2+",left="+(screen.availWidth-500)/2)}else alert(R_preferences_disabled)}function SessionPreferences(){this.swipeInstructionShowed=false}SessionPreferences.prototype.GetCookie=function(){return new Cookie(document,"OnDemandPlayerSession",null,"/")};
SessionPreferences.prototype.LoadCookie=function(){var a=this.GetCookie();a.Load();if(a.swipeInstructionShowed)this.swipeInstructionShowed=a.swipeInstructionShowed};SessionPreferences.prototype.StoreCookie=function(){var a=this.GetCookie();a.swipeInstructionShowed=this.swipeInstructionShowed;a.Store()};var SessionPrefs=new SessionPreferences;
function GetContentPathName(){var a=window.location.pathname,b=a.indexOf("data/toc.html");if(b>0)return a.substr(0,b);b=a.indexOf("html/roles.html");if(b>0)return a.substr(0,b);b=a.indexOf("data/tpc/");if(b>0)return a.substr(0,b);b=a.indexOf("html/lmsui.html");if(b>0)return a.substr(0,b);return a}function UserRolesClass(){this.Filtering=false;this.Roles=[]}UserRolesClass.prototype.Copy=function(a){this.Filtering=a.Filtering;this.Roles=[];for(var b=0;b<a.Roles.length;b++)this.Roles[b]=a.Roles[b]};
UserRolesClass.prototype.Compare=function(a){if(this.Filtering!=a.Filtering)return true;if(this.Roles.length!=a.Roles.length)return true;for(var b=0;b<this.Roles.length;b++)if(this.Roles[b]!=a.Roles[b])return true;return false};UserRolesClass.prototype.GetCookie=function(){return new Cookie(document,"OnDemandPlayerRoles",90,GetContentPathName(),null,false)};
UserRolesClass.prototype.LoadCookie=function(){var a=this.GetCookie();a.Load();this.Filtering=false;if(a.Filtering)this.Filtering=a.Filtering=="true";this.Roles=[];if(a.Roles)this.Roles=a.Roles.split("+")};UserRolesClass.prototype.StoreCookie=function(){var a=this.GetCookie();a.Filtering=this.Filtering?"true":"false";a.Roles=this.Roles.join("+");a.Store()};UserRolesClass.prototype.GetUrlParamString=function(){return"PP_ROLEFILTERING="+(this.Filtering?"true":"false")+"&PP_ROLES="+encodeURIComponent(this.Roles.join("+"))};
UserRolesClass.prototype.ParseUrlParamString=function(a){a=a.split("&");for(var b=0;b<a.length;b++){var c=a[b].split("=");if(c[0].toUpperCase()=="PP_ROLEFILTERING")this.Filtering=c[1]=="true";else if(c[0].toUpperCase()=="PP_ROLES"){this.Roles=[];if(c[1])this.Roles=c[1].split("+")}}};var UserRoles=new UserRolesClass;UserRoles.LoadCookie();UserRoles.ParseUrlParamString(paramstr);
function OpenRolesDialog(a){window.open(a+"/html/roles.html","roleswin","width=500,height=318,resizable=1,scrollbars=0,top="+(screen.availHeight-286)/2+",left="+(screen.availWidth-500)/2)}var requiredFlashVersion="9.0.124",_name="",_asyn=false,_fire=false,_knowpalyer=false,bPlayerIsAvailable=false,useAudioTag=false,useFlash=false,hasRequestedVersion,_fPlayerPath="",soundjs_initialized=false;
function SoundjsInit(){if(soundjs_initialized!=true){soundjs_initialized=true;var a=document.getElementById("fplayer");if(a)if(typeof assetType==="undefined")a.innerHTML="<audio id='upkaudio' onended='AudioEnded();' onerror='AudioError();' oncanplay='AudioLoaded()' style='display: none;'><Source type='audio/mpeg'></audio>";if(upk.browserInfo.isiOS5()&&typeof assetType==="undefined"){getAPlayer().addEventListener("loadstart",SoundPlayer_OnLoadStart);getAPlayer().addEventListener("durationchange",SoundPlayer_OnDurationChange)}hasRequestedVersion=
swfobject.hasFlashPlayerVersion(requiredFlashVersion);try{_fPlayerPath=_webpage_==true?"../../../../":"../../../"}catch(b){_fPlayerPath="../../../"}SupportAAC();CheckAndEnableSound()}}function SoundPlayer_OnLoadStart(){SoundPlayerObj.LoadStartTimer&&clearInterval(SoundPlayerObj.LoadStartTimer);if(getAPlayer().src)SoundPlayerObj.LoadStartTimer=setInterval("SoundPlayer_Started()",3E3)}
function SoundPlayer_OnDurationChange(){if(SoundPlayerObj.LoadStartTimer){clearInterval(SoundPlayerObj.LoadStartTimer);SoundPlayerObj.LoadStartTimer=0}}function SoundPlayer_Started(){getAPlayer().src=getAPlayer().src;getAPlayer().play()}function SupportAAC(){if(upk.browserInfo.isiOS()){bPlayerIsAvailable=useAudioTag=true;if(PlayerConfig.AACIsAvailable==true)return true}return false}
function CheckAndEnableSound(){var a=false;try{a=soundIsPublished()}catch(b){a=false}a==true&&hasRequestedVersion&&!IsTouchDevice()&&bPlayerIsAvailable==false&&UserPrefs.PlayAudio!="none"&&swfobject.embedSWF(_fPlayerPath+"audio/fplayer.swf","fplayer","1","1",requiredFlashVersion,null,null,null,null,onLoadFlash)}
function onLoadFlash(a){if(a.success==true)bPlayerIsAvailable=useFlash=true;document.getElementById("fplayer").style.position="absolute";document.getElementById("fplayer").style.top="0px";document.getElementById("fplayer").style.left="0px"}function AreCookiesEnabled(){if(PlayerConfig.EnableCookies==false)return false;chkcookie=(new Date).getTime()+"";document.cookie="chkcookie="+chkcookie+"; path=/";return document.cookie.indexOf(chkcookie,0)<0?false:true}
function Check_Flash(a,b){if(a==false)return true;if(SupportAAC()==true)return true;if(hasRequestedVersion==false)if(b!="none")return false;return true}function getFPlayer(){return document.getElementById("fplayer")}function getAPlayer(){return document.getElementById("upkaudio")}
function Sound_Init(a,b,c,f,h){SoundjsInit();if(Check_Flash(a,b)==true)return true;if(!SupportAAC()&&upk.browserInfo.isiOS())return true;a="../../../";if(h!=undefined)a=h;c!=null&&eval(c);sw=(screen.width-640)/2;sh=(screen.height-480)/2;if(f==null)f=true;KeepAlive_DoNotSendClose();if(f==true)window.open(a+"html/getflash.html?url="+Escape.MyEscape(this.location.href)+"&newwindow","","top="+sh+", left="+sw+", width=640, height=480, resizable=1,toolbar=1,scrollbars=1,location=1,statusbar=1,menubar=1");
else f=="parent"?setTimeout('parent.location.replace("'+a+"html/getflash.html?url="+Escape.MyEscape(parent.location.href)+'")',10):setTimeout('this.location.replace("'+a+"html/getflash.html?url="+Escape.MyEscape(this.location.href)+'")',10);return false}
function SoundPlayerClass(){for(this.TopicPath=unescape(window.location.href);this.TopicPath.indexOf("\\")!=-1;)this.TopicPath=this.TopicPath.replace("\\","/");var a=this.TopicPath.indexOf("?");if(a>=0)this.TopicPath=this.TopicPath.substr(0,a);a=this.TopicPath.lastIndexOf("/");this.RootPath=this.TopicPath=this.TopicPath.substr(0,a+1);for(var b=0;b<=3;b++){a=this.RootPath.lastIndexOf("/");if(a!=-1)this.RootPath=this.RootPath.substr(0,a)}this.RootPath+="/";this.SoundPath=this.TopicPath;this.AudioPath=
resolveUri(this.TopicPath,"../../../audio/");this.Volume=100;this.PlayCheckerTimer=this.LoadStartTimer=0}function resolveUri(a,b){return a+b}SoundPlayerClass.prototype.ChangeFileSuffix=function(a){if(a.lastIndexOf(".mp3")==a.length-4)return a;a=a.substr(0,a.length-4);if(PlayerConfig.AACIsAvailable||upk.browserInfo.isiOS())return a+".m4a";if(useFlash)return a+".flv";alert("sound - file extension error")};
SoundPlayerClass.prototype.Play=function(a,b,c,f){if(useFlash){var h=getFPlayer();if(h){h.style.top=getScrollTop()+"px";h.style.left=getScrollLeft()+"px"}}b||S_SetFrameState("S");h=S_GetFrameState();f||(f=false);if(bPlayerIsAvailable){c||(c=false);if(c==true)f==false&&OnEndPlaySound();else if(a.length==0){if(f==false){h!="D"&&S_SetFrameState("D");OnErrorPlaySound()}}else{if(a.substr(a.length-4)==".ASX"){c=sounds[a].duration.split(":");try{_lastAudioFileSize=parseInt(c[0])*3600+parseInt(c[1])*60+parseFloat(c[2])}catch(l){_lastAudioFileSize=
0}a=sounds[a].flist[0]}SoundPlayer_Stop();if(a.length==0){if(f==false){h!="D"&&S_SetFrameState("D");OnErrorPlaySound()}}else{fname=b?resolveUri(this.AudioPath,a):resolveUri(this.SoundPath,a);_name=this.ChangeFileSuffix(fname);_asyn=f;_fire=true;if(useFlash)_knowpalyer==true&&setTimeout('SoundPlayer_Open("'+_name+'",'+f+")",120);else useAudioTag&&setTimeout('SoundPlayer_Open("'+_name+'",'+f+")",120)}}}else if(f==false){h!="D"&&S_SetFrameState("D");OnErrorPlaySound()}};
SoundPlayerClass.prototype.Stop=function(a){if(bPlayerIsAvailable)a?SoundPlayer_Stop():setTimeout("SoundPlayer_Stop()",10)};SoundPlayerClass.prototype.Pause=function(){try{if(bPlayerIsAvailable){useFlash&&getFPlayer().SoundPause();useAudioTag&&getAPlayer().pause()}}catch(a){}};SoundPlayerClass.prototype.Resume=function(){if(!InWebpage())if(getLastSoundFileName()!=getActualSoundFileName())return;try{if(bPlayerIsAvailable){useFlash&&getFPlayer().SoundPlay();useAudioTag&&getAPlayer().play()}}catch(a){}};
SoundPlayerClass.prototype.InitAudioPlayer=function(){if(bPlayerIsAvailable)if(useAudioTag){getAPlayer().src=this.AudioPath+"empty.m4a";getAPlayer().play()}};SoundPlayerClass.prototype.IsAvailable=function(){return bPlayerIsAvailable};SoundPlayerClass.prototype.SetSoundPath=function(a){if(a.length>0)this.SoundPath=a};
SoundPlayerClass.prototype.SetVolume=function(a){if(a==null)a=this.Volume;else this.Volume=a;if(useFlash)try{getFPlayer().SetSoundVolume(a/100)}catch(b){}if(useAudioTag)try{getAPlayer().volume=a/100}catch(c){}};function InWebpage(){if(typeof _webpage_==="undefined")return false;return _webpage_}function SoundPlayer_EndCheck(){getAPlayer().ended&&SoundPlayerObj.PlayCheckerTimer&&setTimeout(function(){SoundPlayerObj.PlayCheckerTimer&&SoundComplete(false)},50)}
var _lastAsyncronFile=false,_lastAudioFile="",_lastFlashTime=-1,_lastAudioFileSize=0,_lastFileName="";function clearLastSoundFileName(){_lastFileName=""}function getLastSoundFileName(){return _lastFileName.substr(_lastFileName.lastIndexOf("/")+1)}function getActualSoundFileName(){try{return sounds[showActObj.id.substr(1)+".ASX"].flist[0]}catch(a){return""}}
function SoundPlayer_Open(a,b){if(a.length>0)_lastFileName=a;try{if(a.length>0&&b==true)_lastAsyncronFile=true;if(timelineDescriptor.valid&&timelineDescriptor.type!="narration")throw"";if(useFlash){audio_loading=true;_lastFlashTime=-1;getFPlayer().SetSoundFile(a);getFPlayer().SoundPlay();if(timelineDescriptor.valid&&timelineDescriptor.type=="narration"){SoundFPlayer_SetTime();return}audio_loading=false}if(useAudioTag){audio_loading=true;getAPlayer().pause();if(_lastAudioFile==a)AudioLoaded();else{getAPlayer().src=
a;CLog(a+" - "+_lastAudioFile+" play")}_lastAudioFile=a}SoundPlayerObj.SetVolume();if(upk.browserInfo.isiOS()){SoundPlayerObj.PlayCheckerTimer&&clearInterval(SoundPlayerObj.PlayCheckerTimer);SoundPlayerObj.PlayCheckerTimer=setInterval("SoundPlayer_EndCheck()",500)}}catch(c){S_SetFrameState("D");b==false&&OnErrorPlaySound()}}
function SoundFPlayer_SetTime(){getFPlayer().SoundPause();getFPlayer().SoundSeek(timelineDescriptor.resttime/1E3);if(Math.abs(timelineDescriptor.resttime/1E3-getFPlayer().Time())<0.3){getFPlayer().SoundPlay();audio_loading=false}else setTimeout("SoundFPlayer_SetTime()",300)}
function SoundAPlayer_SetTime(){if(audio_seeking!=false)if(audio_counter>100)setTimeout("AudioReload();",100);else{audio_counter++;var a=0;if(timelineDescriptor.valid==true&&timelineDescriptor.type=="narration"){a=timelineDescriptor.resttime/1E3;if(a>_lastAudioFileSize-1){getAPlayer().pause();SoundComplete();CLog("nextframe");return}if(a<0)a=0}try{getAPlayer().currentTime=a}catch(b){setTimeout("SoundAPlayer_SetTime()",300)}var c=getAPlayer().currentTime,f=Math.abs(c-a);try{CLog("d: "+f+" "+c+" "+
a+" "+_lastAudioFileSize+" "+showScreen)}catch(h){CLog("d: "+f+" "+c+" "+a+" "+_lastAudioFileSize)}if(f<0.3){audio_seeking=false;CLog("play...");getAPlayer().play()}else setTimeout("SoundAPlayer_SetTime()",300)}}function SoundIsLocked(){return audio_loading==true||audio_seeking==true}
function SoundPlayer_Stop(){try{if(SoundPlayerObj.PlayCheckerTimer){clearInterval(SoundPlayerObj.PlayCheckerTimer);SoundPlayerObj.PlayCheckerTimer=0}_lastAsyncronFile=false;useFlash&&getFPlayer().SoundStop();useAudioTag&&getAPlayer().pause()}catch(a){}}
function SoundPlayer_GetTime(){var a=getLastSoundFileName(),b=showActObj.id.substr(1);b=sounds[b+".ASX"].flist[0];if(a.length>0&&a!=b)return{s:a,t:NaN};b=0;if(useAudioTag)b=getAPlayer().currentTime*1E3;if(useFlash)b=getFPlayer().Time()*1E3;if(b==0&&_lastFlashTime>=0)b=_lastFlashTime;else _lastFlashTime=b;return{s:a,t:b}}function OnFlashLoad(){_fire==true&&setTimeout('SoundPlayer_Open("'+_name+'",'+_asyn+")",20);_fire_=false;_knowpalyer=true}
function SoundComplete(a){if(InWebpage())a?OnErrorPlaySound():OnEndPlaySound();else{if(SoundPlayerObj.PlayCheckerTimer){clearInterval(SoundPlayerObj.PlayCheckerTimer);SoundPlayerObj.PlayCheckerTimer=0}if(_lastAsyncronFile)_lastAsyncronFile=false;else{if(useAudioTag)if(a){S_SetFrameState("D");OnErrorPlaySound()}else{if(typeof animObject!="undefined")if(animObject)if(fusionmode==true&&animObject.timeout==DELAY_INFINITE*100){if(animObject.showbubble==false)animObject.timeout=0}else animObject.timeout=
0;OnEndPlaySound()}if(useFlash){s=getFPlayer().SoundState();if(s=="notfoundfile"){S_SetFrameState("D");OnErrorPlaySound()}else if(s=="complete"){if(typeof animObject!="undefined")if(animObject)if(fusionmode==true&&animObject.timeout==DELAY_INFINITE*100){if(animObject.showbubble==false)animObject.timeout=0}else animObject.timeout=0;OnEndPlaySound()}}}}}function AudioEnded(){var a=getAPlayer();CLog(a.src+" done...");a.src.indexOf("empty.m4a")>=0||SoundComplete(false)}
function AudioError(){var a=getAPlayer();if(a!=null)if(a.src!="")if(!(a.src.indexOf("empty.m4a")>=0)){CLog(a.src+" error...");SoundComplete(true)}}var audio_loading=false,audio_seeking=false,audio_counter=0;function AudioReload(){audio_loading=true;getAPlayer().pause();getAPlayer().src=_lastAudioFile;CLog(fname+" - "+_lastAudioFile+" replay")}
function AudioLoaded(){CLog("AudioLoaded");if(audio_loading==true){CLog("AudioLoaded true");audio_loading=false;audio_counter=0;getAPlayer().pause();audio_seeking=true;SoundAPlayer_SetTime()}}function S_GetFrameState(){try{return upk.Timeline.GetFrameState()}catch(a){return""}}function S_SetFrameState(a){try{upk.Timeline.SetFrameState(a)}catch(b){}}
function TimelineDescriptor(a,b,c,f,h,l){if(this.valid=a){this.frameid=b;this.timelineindex=c;this.narration=f;this.animation=h;this.resttime=l;this.type="narration";if(l>=f)this.type="animationstart";if(l>=f+h/2)this.type="nextframe"}}var timelineDescriptor=new TimelineDescriptor(false,"",0,0,0,0),SoundPlayerObj=new SoundPlayerClass,clog_enabled=false;function CLog(a,b){if(clog_enabled||b==true)console!==undefined&&console.log(a)};

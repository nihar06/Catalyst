/*
Copyright © 1998, 2014, Oracle and/or its affiliates.  All rights reserved.
*/
var Escape=function(){function a(d,j){for(var i="",h=0;h<d.length;h++){var b=d.substr(h,1),g;if(j==0)g=b>="0"&&b<="9"||b>="a"&&b<="z"||b>="A"&&b<="Z";else{a:{g=c.length;for(var k=0;k<g;k++)if(b==c[k]){g=true;break a}g=b==f?true:false}g=!g}if(g)i+=b;else{b=d.charCodeAt(h);b="0000"+b.toString(16).toUpperCase();i+=(j==0?"$":f)+b.substr(b.length-4)}}return i}function e(d,j){for(var i="",h=false,b=0;b<d.length;b++){var g;if(h){g=d.substr(b,4);i+=String.fromCharCode(parseInt("0x"+g));b+=3;h=false}else{g=
d.substr(b,1);if(g==(j==0?"$":f))h=true;else i+=g}}return i}var f="/",c=["<",">",'"',"'","%",";","(",")","&","+"];return{SafeUriEscape:function(d){return a(d,1)},SafeUriUnEscape:function(d){return e(d,1)},MyEscape:function(d){return a(d,0)},MyUnEscape:function(d){return e(d,0)}}}();function UrlParser(){this.params=[];this.safemode=false}
UrlParser.prototype.Clone=function(){var a=new UrlParser;a.params=[];a.safemode=this.safemode;for(var e in this.params)if(this.params[e]!=null)a.params[e]=this.params[e];return a};
UrlParser.prototype.Parse=function(){var a,e;a=document.location.hash.substring(1);a=a.split("&");if(a.length==0||a[0]==""){a=document.location.search.substring(1);a=a.split("&")}if(a.length>0)if(a[0].toLowerCase().substr(0,3)=="su="){this.safemode=true;a=a[0].substr(3);a=Escape.SafeUriUnEscape(a);a=a.split("&")}for(var f=0;f<a.length;f++){e=a[f];if(e.length!=0){var c=e.split("=");if(c.length==2)this.params[c[0].toLowerCase()]=c[1];else if(c.length<2)this.params[c[0].toLowerCase()]="";else this.params[c[0].toLowerCase()]=
e.substr(c[0].length+1)}}};UrlParser.prototype.GetSafeMode=function(){return this.safemode};UrlParser.prototype.SetSafeMode=function(a){this.safemode=a};UrlParser.prototype.GetParameter=function(a){return this.params[a.toLowerCase()]};UrlParser.prototype.AddParameter=function(a,e){this.params[a.toLowerCase()]=e};UrlParser.prototype.RemoveParameter=function(a){this.params[a.toLowerCase()]=null};UrlParser.prototype.ClearParameterList=function(){this.params=null;this.params=[]};
UrlParser.prototype.BuildParameterList=function(a){a="";var e=true,f;for(f in this.params){var c=this.params[f];if(c!=null){if(e==false)a+="&";e=false;a+=c.length==0?f:f+"="+this.params[f]}}if(this.safemode)a="su="+Escape.MyEscape(a);return a};
UrlParser.prototype.GetCorrectUrl=function(a,e){if(!this.safemode)return a;var f,c=a.indexOf("#");if(c==-1)c=a.indexOf("?");if(c>=0){var d=a.substring(c+1);f=d.split("&");if(f[0].toLowerCase().substr(0,3)=="su=")return a;return a.substring(0,c+1)+"su="+Escape.SafeUriEscape(d)}else return a+(e?"":"?su=")};function UnescapeQuotes(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};
